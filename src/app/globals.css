@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================================
   VizDots Design System
   ============================================================================ */

:root {
  /* Brand Colors */
  --color-primary: 59, 130, 246; /* Blue-500 */
  --color-primary-hover: 37, 99, 235; /* Blue-600 */
  --color-primary-focus: 29, 78, 216; /* Blue-700 */
  
  --color-secondary: 234, 179, 8; /* Yellow-500 */
  --color-secondary-hover: 202, 138, 4; /* Yellow-600 */
  
  --color-success: 34, 197, 94; /* Green-500 */
  --color-warning: 245, 158, 11; /* Amber-500 */
  --color-error: 239, 68, 68; /* Red-500 */
  
  /* Neutral Colors */
  --foreground-rgb: 17, 24, 39; /* Gray-900 */
  --background-rgb: 249, 250, 251; /* Gray-50 */
  
  /* Spacing & Sizing */
  --touch-target-min: 44px;
  --border-radius-sm: 0.375rem;
  --border-radius-md: 0.5rem;
  --border-radius-lg: 0.75rem;
  
  /* Focus Ring */
  --focus-ring-color: 59, 130, 246;
  --focus-ring-offset: 2px;
  --focus-ring-width: 2px;
}

/* Dark mode adjustments (keeping light mode as default for MVP) */
@media (prefers-color-scheme: dark) {
  :root {
    --foreground-rgb: 249, 250, 251;
    --background-rgb: 17, 24, 39;
  }
}

/* Base body styles */
body {
  color: rgb(var(--foreground-rgb));
  background-color: rgb(var(--background-rgb));
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Toast animations */
@keyframes slide-in {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slide-out {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}

.animate-slide-in {
  animation: slide-in 0.3s ease-out forwards;
}

.animate-slide-out {
  animation: slide-out 0.3s ease-in forwards;
}

/* Loading pulse animation */
@keyframes pulse-subtle {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.animate-pulse-subtle {
  animation: pulse-subtle 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* ============================================================================
   Accessibility & Focus Styles
   ============================================================================ */

/* Enhanced focus-visible for keyboard navigation */
*:focus-visible {
  outline: var(--focus-ring-width) solid rgb(var(--focus-ring-color));
  outline-offset: var(--focus-ring-offset);
  border-radius: var(--border-radius-sm);
}

/* Remove default focus outline for mouse users */
*:focus:not(:focus-visible) {
  outline: none;
}

/* Skip to main content link (accessibility) */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: rgb(var(--color-primary));
  color: white;
  padding: 8px 16px;
  z-index: 100;
  text-decoration: none;
  font-weight: 500;
}

.skip-link:focus {
  top: 0;
}

/* ============================================================================
   Button Design System
   ============================================================================ */

@layer components {
  /* Primary Button */
  .btn-primary {
    @apply inline-flex items-center justify-center 
           px-4 py-2 min-h-[44px]
           text-sm font-medium text-white 
           bg-blue-500 hover:bg-blue-600 
           border border-transparent rounded-md 
           shadow-sm transition-colors duration-150
           focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* Secondary Button */
  .btn-secondary {
    @apply inline-flex items-center justify-center 
           px-4 py-2 min-h-[44px]
           text-sm font-medium text-gray-700 
           bg-white hover:bg-gray-50 
           border border-gray-300 rounded-md 
           shadow-sm transition-colors duration-150
           focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* Brand/Yellow Button */
  .btn-brand {
    @apply inline-flex items-center justify-center 
           px-4 py-2 min-h-[44px]
           text-sm font-medium text-white 
           bg-yellow-500 hover:bg-yellow-600 
           border border-transparent rounded-md 
           shadow-sm transition-colors duration-150
           focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* Ghost/Text Button */
  .btn-ghost {
    @apply inline-flex items-center justify-center 
           px-4 py-2 min-h-[44px]
           text-sm font-medium text-gray-700 
           hover:bg-gray-100 hover:text-gray-900
           border border-transparent rounded-md 
           transition-colors duration-150
           focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* Danger Button */
  .btn-danger {
    @apply inline-flex items-center justify-center 
           px-4 py-2 min-h-[44px]
           text-sm font-medium text-white 
           bg-red-500 hover:bg-red-600 
           border border-transparent rounded-md 
           shadow-sm transition-colors duration-150
           focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* Small Button variant */
  .btn-sm {
    @apply px-3 py-1.5 min-h-[36px] text-xs;
  }

  /* Large Button variant */
  .btn-lg {
    @apply px-6 py-3 min-h-[52px] text-base;
  }

  /* Icon-only Button */
  .btn-icon {
    @apply p-2 min-w-[44px] min-h-[44px];
  }

  /* ============================================================================
     Form Input Design System
     ============================================================================ */

  .input {
    @apply block w-full px-3 py-2 min-h-[44px]
           text-gray-900 placeholder-gray-400
           border border-gray-300 rounded-md
           shadow-sm transition-colors duration-150
           focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500
           disabled:bg-gray-100 disabled:cursor-not-allowed;
  }

  .input-error {
    @apply border-red-300 focus:ring-red-500 focus:border-red-500;
  }

  .label {
    @apply block text-sm font-medium text-gray-700 mb-1;
  }

  .helper-text {
    @apply mt-1 text-sm text-gray-500;
  }

  .error-text {
    @apply mt-1 text-sm text-red-600;
  }

  /* ============================================================================
     Card Design System
     ============================================================================ */

  .card {
    @apply bg-white rounded-lg shadow-sm border border-gray-200;
  }

  .card-header {
    @apply px-4 py-4 sm:px-6 border-b border-gray-200;
  }

  .card-body {
    @apply px-4 py-4 sm:px-6;
  }

  .card-footer {
    @apply px-4 py-4 sm:px-6 border-t border-gray-200 bg-gray-50 rounded-b-lg;
  }

  /* ============================================================================
     Alert/Banner Design System
     ============================================================================ */

  .alert {
    @apply p-4 rounded-md;
  }

  .alert-info {
    @apply bg-blue-50 text-blue-800 border border-blue-200;
  }

  .alert-success {
    @apply bg-green-50 text-green-800 border border-green-200;
  }

  .alert-warning {
    @apply bg-yellow-50 text-yellow-800 border border-yellow-200;
  }

  .alert-error {
    @apply bg-red-50 text-red-800 border border-red-200;
  }
}

/* ============================================================================
   Responsive Utilities
   ============================================================================ */

/* Prevent horizontal scroll on mobile */
html, body {
  overflow-x: hidden;
  max-width: 100vw;
}

/* Container with responsive padding */
.container-responsive {
  @apply w-full px-4 sm:px-6 lg:px-8 mx-auto max-w-7xl;
}

/* Stack elements vertically on mobile */
.stack-mobile {
  @apply flex flex-col sm:flex-row sm:items-center;
}

/* Hide on mobile, show on desktop */
.desktop-only {
  @apply hidden sm:block;
}

/* Show on mobile, hide on desktop */
.mobile-only {
  @apply block sm:hidden;
}

/* Ensure touch targets are large enough */
.touch-target {
  min-height: var(--touch-target-min);
  min-width: var(--touch-target-min);
}

/* ============================================================================
   Typography Utilities
   ============================================================================ */

.heading-1 {
  @apply text-2xl sm:text-3xl font-bold text-gray-900;
}

.heading-2 {
  @apply text-xl sm:text-2xl font-semibold text-gray-900;
}

.heading-3 {
  @apply text-lg sm:text-xl font-medium text-gray-900;
}

.body-text {
  @apply text-sm sm:text-base text-gray-600;
}

.caption {
  @apply text-xs sm:text-sm text-gray-500;
}

/* ============================================================================
   Table Responsive Utilities
   ============================================================================ */

/* Make tables scroll horizontally on mobile */
.table-responsive {
  @apply w-full overflow-x-auto;
}

/* Stack table cells on very small screens */
@media (max-width: 479px) {
  .table-stack-mobile thead {
    display: none;
  }
  
  .table-stack-mobile tr {
    display: block;
    margin-bottom: 1rem;
    border: 1px solid #e5e7eb;
    border-radius: 0.5rem;
    padding: 1rem;
  }
  
  .table-stack-mobile td {
    display: flex;
    justify-content: space-between;
    padding: 0.5rem 0;
    border: none;
  }
  
  .table-stack-mobile td::before {
    content: attr(data-label);
    font-weight: 600;
    margin-right: 1rem;
  }
}

/* ============================================================================
   Reduced Motion Support (Accessibility)
   ============================================================================ */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ============================================================================
   Print Styles
   ============================================================================ */

@media print {
  .no-print {
    display: none !important;
  }
  
  body {
    background: white !important;
    color: black !important;
  }
}
